% Generator: GNU source-highlight, by Lorenzo Bettini, http://www.gnu.org/software/src-highlite
\noindent
\mbox{}\textit{\textcolor{Brown}{\#!/usr/bin/env\ ruby}} \\
\mbox{}\textit{\textcolor{Brown}{\#encoding\ utf8}} \\
\mbox{} \\
\mbox{}\textit{\textcolor{Brown}{\#\ Tornillos\ y\ tuercas.\ Un\ algoritmo:}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ Escogemos\ un\ tornillo\ pivote\ y\ dejamos\ las}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ tuercas\ menores\ en\ una\ lista,\ las\ mayores\ en\ otra}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ y\ encontramos\ su\ pareja.\ Utilizamos\ la\ pareja\ para}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ repartir\ los\ tornillos\ de\ igual\ forma.}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ Emparejamos\ las\ listas\ izquierdas\ y\ las\ derechas\ por}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ separado.\ Juntamos\ con\ el\ pivote\ en\ medio.}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ Eficiencia:\ caso\ medio\ T(n)\ =\ 2T(n/2)\ +\ O(n)\ =\textgreater{}\ O(n\ log\ n)}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ \ \ \ \ \ \ \ \ \ \ \ \ caso\ peor\ cuadr치tico}} \\
\mbox{} \\
\mbox{}\textit{\textcolor{Brown}{\#\ (Esto\ es\ b치sicamente\ un\ quicksort,\ no?)}} \\
\mbox{} \\
\mbox{}\textbf{\textcolor{Blue}{def}}\ empareja\textcolor{BrickRed}{(}tornillos\textcolor{BrickRed}{,}\ tuercas\textcolor{BrickRed}{)} \\
\mbox{}\ \ \textit{\textcolor{Brown}{\#\ Caso\ base}} \\
\mbox{}\ \ \textbf{\textcolor{Blue}{return}}\ \textcolor{BrickRed}{[[],[]]}\ \textbf{\textcolor{Blue}{if}}\ tornillos\textcolor{BrickRed}{.}size\ \textcolor{BrickRed}{\textless{}}\ \textcolor{Purple}{1} \\
\mbox{} \\
\mbox{}\ \ \textit{\textcolor{Brown}{\#\ La\ elecci칩n\ del\ pivote\ afectar치\ a\ la\ eficiencia}} \\
\mbox{}\ \ pivote\ \textcolor{BrickRed}{=}\ tornillos\textcolor{BrickRed}{.}first \\
\mbox{}\ \ \textit{\textcolor{Brown}{\#\ Todo\ O(n)}} \\
\mbox{}\ \ pareja\ \textcolor{BrickRed}{=}\ tuercas\textcolor{BrickRed}{[}tuercas\textcolor{BrickRed}{.}index\ pivote\textcolor{BrickRed}{]} \\
\mbox{}\ \ to$\_$izq\ \textcolor{BrickRed}{=}\ tornillos\textcolor{BrickRed}{.}select\ \textcolor{Red}{\{}\ \textcolor{BrickRed}{$|$}e\textcolor{BrickRed}{$|$}\ e\ \textcolor{BrickRed}{\textless{}}\ pareja\ \textcolor{Red}{\}} \\
\mbox{}\ \ to$\_$der\ \textcolor{BrickRed}{=}\ tornillos\textcolor{BrickRed}{.}select\ \textcolor{Red}{\{}\ \textcolor{BrickRed}{$|$}e\textcolor{BrickRed}{$|$}\ e\ \textcolor{BrickRed}{\textgreater{}}\ pareja\ \textcolor{Red}{\}} \\
\mbox{}\ \ tu$\_$izq\ \textcolor{BrickRed}{=}\ tuercas\textcolor{BrickRed}{.}select\ \textcolor{Red}{\{}\ \textcolor{BrickRed}{$|$}e\textcolor{BrickRed}{$|$}\ e\ \textcolor{BrickRed}{\textless{}}\ pivote\ \textcolor{Red}{\}} \\
\mbox{}\ \ tu$\_$der\ \textcolor{BrickRed}{=}\ tuercas\textcolor{BrickRed}{.}select\ \textcolor{Red}{\{}\ \textcolor{BrickRed}{$|$}e\textcolor{BrickRed}{$|$}\ e\ \textcolor{BrickRed}{\textgreater{}}\ pivote\ \textcolor{Red}{\}} \\
\mbox{} \\
\mbox{}\ \ to$\_$izq\textcolor{BrickRed}{,}\ tu$\_$izq\ \textcolor{BrickRed}{=}\ empareja\ to$\_$izq\textcolor{BrickRed}{,}\ tu$\_$izq \\
\mbox{}\ \ to$\_$der\textcolor{BrickRed}{,}\ tu$\_$der\ \textcolor{BrickRed}{=}\ empareja\ to$\_$der\textcolor{BrickRed}{,}\ tu$\_$der \\
\mbox{} \\
\mbox{}\ \ \textit{\textcolor{Brown}{\#\ Devolvemos\ en\ el\ formato\ [tornillos$\_$ordenados,\ tuercas$\_$ordenadas]}} \\
\mbox{}\ \ \textcolor{BrickRed}{[} \\
\mbox{}\ \ \ \ to$\_$izq\ \textcolor{BrickRed}{+}\ \textcolor{BrickRed}{[}pivote\textcolor{BrickRed}{]}\ \textcolor{BrickRed}{+}\ to$\_$der\textcolor{BrickRed}{,} \\
\mbox{}\ \ \ \ tu$\_$izq\ \textcolor{BrickRed}{+}\ \textcolor{BrickRed}{[}pareja\textcolor{BrickRed}{]}\ \textcolor{BrickRed}{+}\ tu$\_$der \\
\mbox{}\ \ \textcolor{BrickRed}{]} \\
\mbox{}\textbf{\textcolor{Blue}{end}} \\
\mbox{} \\
\mbox{}puts\ \textcolor{BrickRed}{(}empareja\ \textcolor{BrickRed}{[}\textcolor{Purple}{2}\textcolor{BrickRed}{,}\ \textcolor{Purple}{5}\textcolor{BrickRed}{,}\ \textcolor{Purple}{3}\textcolor{BrickRed}{,}\ \textcolor{Purple}{6}\textcolor{BrickRed}{,}\ \textcolor{Purple}{1}\textcolor{BrickRed}{,}\ \textcolor{Purple}{4}\textcolor{BrickRed}{],}\ \textcolor{BrickRed}{[}\textcolor{Purple}{4}\textcolor{BrickRed}{,}\ \textcolor{Purple}{2}\textcolor{BrickRed}{,}\ \textcolor{Purple}{5}\textcolor{BrickRed}{,}\ \textcolor{Purple}{1}\textcolor{BrickRed}{,}\ \textcolor{Purple}{6}\textcolor{BrickRed}{,}\ \textcolor{Purple}{3}\textcolor{BrickRed}{]).}to$\_$s
