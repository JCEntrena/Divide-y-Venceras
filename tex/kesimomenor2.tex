% Generator: GNU source-highlight, by Lorenzo Bettini, http://www.gnu.org/software/src-highlite
\noindent
\mbox{}\textit{\textcolor{Brown}{\#!/usr/bin/env\ ruby}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ -*-\ coding:\ utf-8\ -*-}} \\
\mbox{}\textit{\textcolor{Brown}{\#encoding\ utf8}} \\
\mbox{} \\
\mbox{}\textit{\textcolor{Brown}{\#\ Creo\ que\ es\ eficiencia\ O(n**2)\ en\ el\ peor\ caso\ y\ O(n)\ en\ el\ medio.}} \\
\mbox{} \\
\mbox{}\textbf{\textcolor{Blue}{class}}\ Array \\
\mbox{}\ \ \textbf{\textcolor{Blue}{def}}\ kesimo\ \textcolor{BrickRed}{(}k\textcolor{BrickRed}{)} \\
\mbox{}\ \ \ \ \textit{\textcolor{Brown}{\#\ Esto\ tiene\ eficiencia\ O(n).}} \\
\mbox{}\ \ \ \ \textit{\textcolor{Brown}{\#\ Partimos\ la\ lista\ en\ dos,\ sobre\ un\ pivote.}} \\
\mbox{}\ \ \ \ pivote\ \ \textcolor{BrickRed}{=}\ \textbf{\textcolor{Blue}{self}}\textcolor{BrickRed}{.}first \\
\mbox{}\ \ \ \ menores\ \textcolor{BrickRed}{=}\ \textbf{\textcolor{Blue}{self}}\textcolor{BrickRed}{.}select\ \textcolor{Red}{\{}\ \textcolor{BrickRed}{$|$}x\textcolor{BrickRed}{$|$}\ x\ \textcolor{BrickRed}{\textless{}}\ pivote\ \textcolor{Red}{\}} \\
\mbox{}\ \ \ \ mayores\ \textcolor{BrickRed}{=}\ \textbf{\textcolor{Blue}{self}}\textcolor{BrickRed}{.}select\ \textcolor{Red}{\{}\ \textcolor{BrickRed}{$|$}x\textcolor{BrickRed}{$|$}\ x\ \textcolor{BrickRed}{\textgreater{}}\ pivote\ \textcolor{Red}{\}} \\
\mbox{}\ \ \ \ iguales\ \textcolor{BrickRed}{=}\ \textbf{\textcolor{Blue}{self}}\textcolor{BrickRed}{.}select\ \textcolor{Red}{\{}\ \textcolor{BrickRed}{$|$}x\textcolor{BrickRed}{$|$}\ x\ \textcolor{BrickRed}{==}\ pivote\ \textcolor{Red}{\}} \\
\mbox{} \\
\mbox{}\ \ \ \ \textit{\textcolor{Brown}{\#\ Estudiamos\ si\ el\ pivote\ es\ el\ elemento\ buscado.}} \\
\mbox{}\ \ \ \ \textit{\textcolor{Brown}{\#\ Buscamos\ en\ el\ subarray\ correspondiente.}} \\
\mbox{}\ \ \ \ particion$\_$menores\ \textcolor{BrickRed}{=}\ menores\textcolor{BrickRed}{.}size \\
\mbox{}\ \ \ \ particion$\_$iguales\ \textcolor{BrickRed}{=}\ menores\textcolor{BrickRed}{.}size\ \textcolor{BrickRed}{+}\ iguales\textcolor{BrickRed}{.}size \\
\mbox{} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{if}}\ k\ \textcolor{BrickRed}{\textless{}}\ particion$\_$menores \\
\mbox{}\ \ \ \ \ \ \textbf{\textcolor{Blue}{return}}\ menores\textcolor{BrickRed}{.}kesimo\ \textcolor{BrickRed}{(}k\textcolor{BrickRed}{)} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{elsif}}\ k\ \textcolor{BrickRed}{\textless{}}\ particion$\_$iguales \\
\mbox{}\ \ \ \ \ \ \textbf{\textcolor{Blue}{return}}\ pivote \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{else}} \\
\mbox{}\ \ \ \ \ \ \textbf{\textcolor{Blue}{return}}\ mayores\textcolor{BrickRed}{.}kesimo\ \textcolor{BrickRed}{(}k\ \textcolor{BrickRed}{-}\ particion$\_$iguales\textcolor{BrickRed}{)} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{end}} \\
\mbox{}\ \ \textbf{\textcolor{Blue}{end}} \\
\mbox{}\textbf{\textcolor{Blue}{end}} \\
\mbox{} \\
\mbox{} \\
\mbox{}\textbf{\textcolor{Blue}{if}}\ \textbf{\textcolor{Blue}{$\_$$\_$FILE$\_$$\_$}}\ \textcolor{BrickRed}{==}\ \textcolor{ForestGreen}{\$0} \\
\mbox{}\ \ puts\ \texttt{\textcolor{Red}{"{}Introduce\ array:\ "{}}} \\
\mbox{}\ \ line\ \textcolor{BrickRed}{=}\ gets\textcolor{BrickRed}{.}chomp \\
\mbox{}\ \ array\ \textcolor{BrickRed}{=}\ line\textcolor{BrickRed}{.}split\textcolor{BrickRed}{.}map\textcolor{BrickRed}{(\&:}to$\_$i\textcolor{BrickRed}{)} \\
\mbox{} \\
\mbox{}\ \ puts\ \texttt{\textcolor{Red}{"{}Introduce\ k:\ "{}}} \\
\mbox{}\ \ k\ \textcolor{BrickRed}{=}\ \textcolor{BrickRed}{(}gets\textcolor{BrickRed}{.}chomp\textcolor{BrickRed}{).}to$\_$i \\
\mbox{}\ \ puts\ \texttt{\textcolor{Red}{"{}k-Ã©simo\ elemento:\ \#\{array.kesimo(k)\}."{}}} \\
\mbox{}\textbf{\textcolor{Blue}{end}} \\
\mbox{}
