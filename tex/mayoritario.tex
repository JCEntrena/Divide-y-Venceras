% Generator: GNU source-highlight, by Lorenzo Bettini, http://www.gnu.org/software/src-highlite
\noindent
\mbox{}\textit{\textcolor{Brown}{\#!/usr/bin/env\ ruby}} \\
\mbox{}\textit{\textcolor{Brown}{\#encoding\ utf8}} \\
\mbox{} \\
\mbox{}\textit{\textcolor{Brown}{\#\ BÃºsqueda\ del\ elemento\ mayoritario.}} \\
\mbox{}\textit{\textcolor{Brown}{\#\ Eficiencia:\ O(n)}} \\
\mbox{} \\
\mbox{}\textbf{\textcolor{Blue}{class}}\ Array \\
\mbox{}\ \ \textbf{\textcolor{Blue}{def}}\ mayoritario \\
\mbox{}\ \ \ \ \textit{\textcolor{Brown}{\#\ Caso\ base}} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{return}}\ \textcolor{BrickRed}{(}first\ \textcolor{BrickRed}{==}\ last\ \textcolor{BrickRed}{?}\ first\ \textcolor{BrickRed}{:}\ \textbf{\textcolor{Blue}{nil}}\textcolor{BrickRed}{)}\ \textbf{\textcolor{Blue}{if}}\ size\ \textcolor{BrickRed}{\textless{}}\ \textcolor{Purple}{3} \\
\mbox{}\ \ \ \  \\
\mbox{}\ \ \ \ pares$\_$repet\ \textcolor{BrickRed}{=}\ \textcolor{BrickRed}{[]} \\
\mbox{} \\
\mbox{}\ \ \ \ \textit{\textcolor{Brown}{\#\ Tomamos\ las\ parejas\ de\ elementos\ repetidos}} \\
\mbox{}\ \ \ \ each$\_$slice\textcolor{BrickRed}{(}\textcolor{Purple}{2}\textcolor{BrickRed}{)}\ \textcolor{Red}{\{}\ \textcolor{BrickRed}{$|$}e\textcolor{BrickRed}{$|$} \\
\mbox{}\ \ \ \ \ \ pares$\_$repet\ \textcolor{BrickRed}{\textless{}\textless{}}\ e\textcolor{BrickRed}{[}\textcolor{Purple}{0}\textcolor{BrickRed}{]}\ \textbf{\textcolor{Blue}{if}}\ e\textcolor{BrickRed}{[}\textcolor{Purple}{0}\textcolor{BrickRed}{]}\ \textcolor{BrickRed}{==}\ e\textcolor{BrickRed}{[}\textcolor{Purple}{1}\textcolor{BrickRed}{]} \\
\mbox{}\ \ \ \ \textcolor{Red}{\}} \\
\mbox{} \\
\mbox{}\ \ \ \ \textit{\textcolor{Brown}{\#\ pares$\_$repet.size\ \textless{}=\ size/2,\ por\ lo\ que}} \\
\mbox{}\ \ \ \ \textit{\textcolor{Brown}{\#\ la\ llamada\ recursiva\ es\ como\ mucho\ T(n/2)}} \\
\mbox{}\ \ \ \ posible\ \textcolor{BrickRed}{=}\ pares$\_$repet\textcolor{BrickRed}{.}mayoritario \\
\mbox{} \\
\mbox{}\ \ \ \ \textit{\textcolor{Brown}{\#\ Cuenta\ de\ ocurrencias\ es\ O(n)}} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{return}}\ posible\ \textbf{\textcolor{Blue}{if}}\ count\textcolor{BrickRed}{(}posible\textcolor{BrickRed}{)}\ \textcolor{BrickRed}{\textgreater{}}\ size\textcolor{BrickRed}{/}\textcolor{Purple}{2} \\
\mbox{}\ \ \ \ \textbf{\textcolor{Blue}{return}}\ last\ \textbf{\textcolor{Blue}{if}}\ size\ \textcolor{BrickRed}{\%}\ \textcolor{Purple}{2}\ \textcolor{BrickRed}{==}\ \textcolor{Purple}{1}\ \textbf{\textcolor{Blue}{and}}\ count\textcolor{BrickRed}{(}last\textcolor{BrickRed}{)}\ \textcolor{BrickRed}{\textgreater{}}\ size\textcolor{BrickRed}{/}\textcolor{Purple}{2} \\
\mbox{}\ \ \textbf{\textcolor{Blue}{end}} \\
\mbox{}\textbf{\textcolor{Blue}{end}} \\
\mbox{} \\